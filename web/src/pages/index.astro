---
import Layout from '../layouts/Layout.astro';
import { sanityClient } from "../lib/sanityClient";
import PageRenderer from "../components/PageRenderer.astro";

// Obtener la p√°gina de inicio desde Sanity
const inicioPage = await sanityClient.fetch(`
    *[_type == "page" && slug.current == "inicio"][0]{
        title,
        blocks[]{
            _type,
            ...
        }
    }
`);

const page = inicioPage || {
    title: "Inicio",
    blocks: []
};
---

<Layout title={page.title}>
  <PageRenderer blocks={page.blocks} />
</Layout>
