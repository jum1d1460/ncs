---
import Layout from '../../layouts/Layout.astro';
import { fetchGlobalSettings } from '../../lib/sanityClient';

export const prerender = true;

const settings = await fetchGlobalSettings();

const herramientas = [
  {
    slug: 'tdah-adultos',
    titulo: 'Cuestionario de TDAH en Adultos',
    descripcion: 'Evaluación rápida y confidencial para identificar posibles signos de TDAH en adultos. Basado en criterios diagnósticos estandarizados.',
    icono: '🧠',
    duracion: '5-7 minutos',
    color: 'blue'
  },
  // Aquí se pueden añadir más herramientas en el futuro
  // {
  //   slug: 'test-ansiedad',
  //   titulo: 'Test de Ansiedad',
  //   descripcion: 'Evaluación de niveles de ansiedad...',
  //   icono: '😰',
  //   duracion: '5 minutos',
  //   color: 'green'
  // }
];

const colorClasses = {
  blue: {
    bg: 'bg-blue-50 hover:bg-blue-100',
    border: 'border-blue-200',
    text: 'text-blue-900',
    accent: 'text-blue-600'
  },
  green: {
    bg: 'bg-green-50 hover:bg-green-100',
    border: 'border-green-200',
    text: 'text-green-900',
    accent: 'text-green-600'
  },
  purple: {
    bg: 'bg-purple-50 hover:bg-purple-100',
    border: 'border-purple-200',
    text: 'text-purple-900',
    accent: 'text-purple-600'
  }
};
---

<Layout title="Herramientas de Evaluación - NCS Psicóloga" globalSettings={settings}>
  <div class="min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 py-12 px-4 sm:px-6 lg:px-8">
    <div class="max-w-7xl mx-auto">
      <!-- Header -->
      <div class="text-center mb-12">
        <h1 class="text-4xl sm:text-5xl font-bold text-gray-900 mb-4">
          Herramientas de Evaluación
        </h1>
        <p class="text-xl text-gray-600 max-w-3xl mx-auto leading-normal">
          Cuestionarios profesionales para ayudarte a identificar posibles áreas de preocupación. 
          Todas las evaluaciones son confidenciales y los resultados te servirán como orientación inicial.
        </p>
      </div>

      <!-- Nota importante -->
      <div class="max-w-4xl mx-auto mb-12 bg-amber-50 border-l-4 border-amber-400 p-6 rounded-r-lg">
        <div class="flex items-start">
          <div class="flex-shrink-0">
            <svg class="h-6 w-6 text-amber-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
          </div>
          <div class="ml-3">
            <h3 class="text-sm font-medium text-amber-800">Importante</h3>
            <p class="mt-2 text-sm text-amber-700">
              Estas herramientas son únicamente orientativas y no sustituyen un diagnóstico profesional. 
              Los resultados te ayudarán a decidir si es conveniente buscar evaluación especializada.
            </p>
          </div>
        </div>
      </div>

      <!-- Grid de herramientas -->
      <div class="grid gap-8 md:grid-cols-2 lg:grid-cols-3 max-w-6xl mx-auto">
        {herramientas.map((herramienta) => {
          const colors = colorClasses[herramienta.color as keyof typeof colorClasses] || colorClasses.blue;
          return (
            <a 
              href={`/herramientas/${herramienta.slug}`}
              class={`block transition-all duration-300 transform hover:scale-105 hover:shadow-xl ${colors.bg} border-2 ${colors.border} rounded-2xl p-8 group`}
            >
              {/* Icono */}
              <div class="text-6xl mb-4 transform transition-transform group-hover:scale-110">
                {herramienta.icono}
              </div>

              {/* Título */}
              <h2 class={`text-2xl font-bold ${colors.text} mb-3 group-hover:underline`}>
                {herramienta.titulo}
              </h2>

              {/* Descripción */}
              <p class="text-lg text-gray-700 mb-4 leading-normal">
                {herramienta.descripcion}
              </p>

              {/* Duración */}
              <div class="flex items-center text-base text-gray-600">
                <svg class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
                {herramienta.duracion}
              </div>

              {/* CTA */}
              <div class={`mt-6 flex items-center font-semibold ${colors.accent} group-hover:translate-x-2 transition-transform`}>
                Comenzar evaluación
                <svg class="h-5 w-5 ml-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
              </div>
            </a>
          );
        })}
      </div>

      <!-- Información adicional -->
      <div class="max-w-4xl mx-auto mt-16 text-center">
        <h3 class="text-2xl font-bold text-gray-900 mb-4">
          ¿Necesitas más información?
        </h3>
        <p class="text-gray-600 mb-6">
          Si tienes dudas sobre qué herramienta usar o necesitas orientación personalizada, 
          no dudes en contactarnos.
        </p>
        <a 
          href="/contacto" 
          class="inline-flex items-center px-8 py-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-xl transition-colors shadow-lg hover:shadow-xl"
        >
          <svg class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
          </svg>
          Contactar
        </a>
      </div>
    </div>
  </div>
</Layout>

